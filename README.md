File Krall_speciation.csv was sent to JRKrall by EPA in 11/2018.  These are the code files used to check and clean these data.  Here are the main files used to create the final datasets.

1. dat-sep-year.sh: File to take Krall_speciation.csv and separate into years, e.g. Krall_speciation-2000.csv.  
2. ussa-fulldat.R: File to take yearly speciation data (e.g. Krall_speciation-2000.csv) and format together based on information we need (columns, MDL, detection limits) and ensure dates are correct.  Also creates more concise method variable.
    * Creates dataset for monitor summary
    * Creates dataset for constituents of interest
    * Creates dataset for methods summary
    * Fix years of data (step 1 does not work perfectly because of modification dates)
    * *This is the file to modify if need to add/remove columns from speciation data*
3. blanks.R: Takes all blanks data and takes average for each constituent/year to blank correct metals.
4. blanks-sum.R: Takes revised blank data, restricts to 2000-2005 and summarizes.  NOTE: blanks-sum-2010-2019.R does the same thing with blanks from 2010-2019.  This is tricky because some speciation data is blank corrected automatically after 2015 (is this the raw data?  who knows...)
5. adjust-speciation.R: File to blank correct and adjust EC/OC from unadjusted TOT to TOR (based on technical manuals from Sunni). Also can adjust uncertainties and DLs.  This file also preps the Krall_speciation-CONS-chdate.csv files where CONS is all the separate constituents (E.g., aluminum).

Data:
1. blanks-sum.RData generated by blanks-sum.R; contains summary of blanks for 2000-2005
2. cons.RData generated by ussa-fulldat.R; contains list of constituents
3. ecoc-am.RData generated by ecoc-am.R; contains values for EC/OC correction
4. methods-summ.RData generated by ussa-fulldat.R; contains methods summary for speciation data (exploration purposes only)
5. mons.RData generated by cities.R (internal); contains information on monitors used in Krall et al. 2013
6. moninfo.RData generated by ussa-fulldat.R; contains information on speciation monitors in the EPA speciation dataset
7. csndat2000-2005.csv and csndat2000-2005-bdl.csv generated by adjust-speciation.R; final blank-corrected and adjusted data

To see more details about the data, visit <https://docs.google.com/document/d/1Xe6-C5N3yPKAdzRmyr2_XKCk08wJR-n5cFX4AryrREs/edit?usp=sharing>


2018 - 2019 data
1. GESTDC-SA/get-data-2018-2019.R: Obtains data from 2018-2019 using the API (and R code from github.com/jpkeller).  Currently does not work for PM.  Creates dat2018.RData and dat2019.RData.  Relies on code from get-daily-organized-2018-2019.R.
2. blanks-sum-2010-2019.R: Summarizes blank data from 2010-2019.  Same as blanks for 2000-2005
3. mergeAQS-API-2018-2019.R reformat API data to be what Nick sent for 2000-2017
4. ussa-fulldat.R: See above: iterates over years...
5. adjust-speciation-2010-2019.R.  File to blank correct and adjust EC/OC from unadjusted TOT to TOR (based on technical manuals from Sunni). CURRENTLY NO BLANK CORRECTION APPLIED.  This file also preps the Krall_speciation-CONS-chdate.csv files where CONS is all the separate constituents (E.g., aluminum).
